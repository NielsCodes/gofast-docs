---
title: 'Database'
description: 'Choose between PostgreSQL, Turso with Embedded Replicas, or SQLite'
icon: 'database'
---

## Configuration

To change the current provider, modify the `docker-compose.yml` file and add the corresponding secrets.

To include more providers, follow these steps in the `/storage.go` file, which holds the logic:

1. Add the new provider to the `Provider` constant.
2. Create a new provider function that returns database driver and cleanup functions.
3. Add any new secrets / database parameters in the `env.go` file.

### SQLite

The only environment variable required here is `SQLITE_FILE`, which points to the file location of the database.

This is also the default configuration when building the base project, with a modern setup:

```go
var pragmas = []string{
	"PRAGMA journal_mode = WAL;",
	"PRAGMA foreign_keys = OFF;",
	"PRAGMA synchronous = NORMAL;",
	"PRAGMA temp_store = MEMORY;",
	"PRAGMA auto_vacuum = INCREMENTAL;",
	"PRAGMA cache_size = 10000;",
	"PRAGMA cache = shared;",
}
```

This is more than enough for 90% of applications. For backups, you can use:

```bash
sqlite3 local.db '.backup local.db.bak'
```

### PostgreSQL

There are two settings for PostgreSQL: local and remote. The local setting involves setting up a Docker PostgreSQL instance on your machine, while the remote setting requires database connection parameters.

```bash
    POSTGRES_HOST: ${POSTGRES_HOST}
    POSTGRES_PORT: ${POSTGRES_PORT}
    POSTGRES_DB: ${POSTGRES_DB}
    POSTGRES_USER: ${POSTGRES_USER}
    POSTGRES_PASS: ${POSTGRES_PASS}
```

### Turso with Embedded Replicas

For Turso, first log in and create a database:

https://app.turso.tech/

You need two environment variables, `TURSO_URL` and `TURSO_TOKEN`, both of which can be found here:

![Turso Secrets](/images/turso.jpeg)

## Troubleshooting

- When running Docker on WSL2, the SQLite file may not work. In that case, you probably need to exclude it from volumes:
```
    volumes:
      - ./go:/server
      - /server/storage/you_sqlite_file.db
```

## Need help?

Visit our discord server to ask any questions, make suggestions and give feedback :).

https://discord.gg/EdSZbQbRyJ
