---
title: 'Errors'
description: 'Errors Guidelines'
icon: 'bomb'
---

## Go

1. We follow the rule of handling an error only once, which means you either return the error or log it, but never do both.
2. If more context is needed, wrap the error using `fmt.Errorf("...: %w")`.
3. Services must always return system errors (from `system/errors.go`). The handler then unwraps the error and, based on the type, applies the proper logic.
4. If it's a validation error that we want to display on forms, we must return `system.ErrValidation` with the appropriate error code:
    - **HTTP** - Unprocessed Entity 422
    - **gRPC** - Invalid Argument 3
5. ALL ERRORS are checked.

## SvelteKit / NextJS

1. We use a wrapper around `try / catch` that forces you to handle errors. It aims to mimic what Go or Rust do (tries, JS error handling sucks).
2. The wrapper is called `Safe`, and you can find its logic in `safe.ts` file. For more information, please check the article: [Typescript with Go/Rust Errors: No Try/Catch Heresy](https://dev.to/mpiorowski/typescript-with-gorust-errors-no-trycatch-heresy-49mf)
3. For form validation, the frontend unwraps the error when it has the correct status code. There are two approaches to handling validations:
    - **Basic Native HTML** + **Full Server-Side**: This is the recommended approach as it removes as much unnecessary logic from the frontend as possible. Most forms in GoFast follow this approach.
    - **Full Client-Side** + **Full Server-Side**: This approach uses the `zod` library for client-side validation. The `Edit Note` page is the only one that showcases this flow.
